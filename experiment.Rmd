---
title: "Transparency vs Performances"
output:
  html_document:
    toc: true
    code_folding: "hide"
bibliography: bibliography.bib
---

```{r setup, include=FALSE}
library(ggplot2)
library(RColorBrewer)
cbPalette <- rev(brewer.pal(8,"RdYlGn"))
```

# Motivations

In these experiments we aimed to observe
variations of performances
of different multi-label classification 
algorithms, 
according to their degree of transparency.

These experiments was made using
the Mulan Java Library, developped by @tsoumakas2011mulan,
which contains plethora of classification algorithms,
but also tools to evaluate them.

# Performances

```{r loadCsv}
results <- read.csv("results/crossvalidation.csv", sep=";")
```

## Hamming Loss

According to @schapire2000, Hamming Loss of a
classifier $H$ on a dataset $D$ is defined as follow :

$$HammingLoss(H,D) = \frac{1}{|D|}\sum_{i=1}^{|D|}\frac{Y_i \Delta Z_i}{|L|}$$

Where $\Delta$ is corresponding to symmetric difference of
two sets of labels (equivalent to XOR operator).

The hamming loss is corresponding to the mean of errors by labels.

```{r hammingLoss}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Hamming_Loss,
    fill=Learner
  )
) + 
geom_bar(
  stat = "identity",
  color = "black",
  position = position_dodge()
) +
geom_errorbar(
  aes(
    ymin=Hamming_Loss - Hamming_Loss_std,
    ymax=Hamming_Loss + Hamming_Loss_std
  ),
  width=.2,
  position = position_dodge(.9)
) +
ylim(0.0,1.0) +
ylab("Hamming Loss") +
ggtitle("Hamming losses of multi-label classification systems by dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r hammingLossBox}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Hamming_Loss
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Learner)) +
ylim(0.0,1.0) +
ylab("Hamming Loss") +
ggtitle("Distribution of hamming losses of multi-label classification systems by datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r hammingLossLearnerBox}
ggplot(
  results,
  aes(
    x=Learner,
    y=Hamming_Loss
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Dataset)) +
ylim(0.0,1.0) +
ylab("Hamming Loss") +
ggtitle("Distribution of hamming losses by multi-label classification systems for different datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

## Precision

### Micro-averaged

```{r microPrecision}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Micro.averaged_Precision,
    fill=Learner
  )
) + 
geom_bar(
  stat = "identity",
  color = "black",
  position = position_dodge()
) +
geom_errorbar(
  aes(
    ymin=Micro.averaged_Precision - Micro.averaged_Precision_std,
    ymax=Micro.averaged_Precision + Micro.averaged_Precision_std
  ),
  width=.2,
  position = position_dodge(.9)
) +
ylim(0.0,1.0) +
ylab("Micro-averaged Precision") +
ggtitle("Micro-averaged precisions of multi-label classification systems by datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r microPrecisionBox}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Micro.averaged_Precision
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Learner)) +
ylim(0.0,1.0) +
ylab("Micro-averaged Precision") +
ggtitle("Distribution of micro-averaged precisions of multi-label classification systems by datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r microPrecisionLearnerBox}
ggplot(
  results,
  aes(
    x=Learner,
    y=Micro.averaged_Precision
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Dataset)) +
ylim(0.0,1.0) +
ylab("Micro-averaged Precision") +
ggtitle("Distribution of micro-averaged precisions by multi-label classification systems for different datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

### Macro-averaged

```{r macroPrecision}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Macro.averaged_Precision,
    fill=Learner
  )
) + 
geom_bar(
  stat = "identity",
  color = "black",
  position = position_dodge()
) +
geom_errorbar(
  aes(
    ymin=Macro.averaged_Precision - Macro.averaged_Precision_std,
    ymax=Macro.averaged_Precision + Macro.averaged_Precision_std
  ),
  width=.2,
  position = position_dodge(.9)
) +
ylim(0.0,1.0) +
ylab("Macro-averaged Precision") +
ggtitle("Macro-averaged precisions of multi-label classification systems by datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r macroPrecisionBox}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Macro.averaged_Precision
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Learner)) +
ylim(0.0,1.0) +
ylab("Macro-averaged Precision") +
ggtitle("Distribution of macro-averaged precisions of multi-label classification systems by datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r macroPrecisionLearnerBox}
ggplot(
  results,
  aes(
    x=Learner,
    y=Macro.averaged_Precision
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Dataset)) +
ylim(0.0,1.0) +
ylab("Macro-averaged Precision") +
ggtitle("Distribution of macro-averaged precisions by multi-label classification systems for different datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

## Recall

### Micro-averaged

```{r microRecall}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Micro.averaged_Recall,
    fill=Learner
  )
) + 
geom_bar(
  stat = "identity",
  color = "black",
  position = position_dodge()
) +
geom_errorbar(
  aes(
    ymin=Micro.averaged_Recall - Micro.averaged_Recall_std,
    ymax=Micro.averaged_Recall + Micro.averaged_Recall_std
  ),
  width=.2,
  position = position_dodge(.9)
) +
ylim(0.0,1.0) +
ylab("Micro-averaged Recall") +
ggtitle("Micro-averaged recalls of multi-label classification systems by dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r microRecallBox}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Micro.averaged_Recall
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Learner)) +
ylim(0.0,1.0) +
ylab("Micro-averaged Recall") +
ggtitle("Distribution of micro-averaged recalls of multi-label classification systems by datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r microRecallLearnerBox}
ggplot(
  results,
  aes(
    x=Learner,
    y=Micro.averaged_Recall
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Dataset)) +
ylim(0.0,1.0) +
ylab("Micro-averaged Recall") +
ggtitle("Distribution of micro-averaged recalls by multi-label classification systems for different datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

### Macro-averaged

```{r macroRecall}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Macro.averaged_Recall,
    fill=Learner
  )
) + 
geom_bar(
  stat = "identity",
  color = "black",
  position = position_dodge()
) +
geom_errorbar(
  aes(
    ymin=Macro.averaged_Recall - Macro.averaged_Recall_std,
    ymax=Macro.averaged_Recall + Macro.averaged_Recall_std
  ),
  width=.2,
  position = position_dodge(.9)
) +
ylim(0.0,1.0) +
ylab("Macro-averaged Recall") +
ggtitle("Macro-averaged recalls of multi-label classification systems by dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r macroRecallBox}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Macro.averaged_Recall
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Learner)) +
ylim(0.0,1.0) +
ylab("Macro-averaged Recall") +
ggtitle("Distribution of macro-averaged recalls of multi-label classification systems by dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r macroRecallLearnerBox}
ggplot(
  results,
  aes(
    x=Learner,
    y=Macro.averaged_Recall
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Dataset)) +
ylim(0.0,1.0) +
ylab("Macro-averaged Recall") +
ggtitle("Distribution of macro-averaged recalls by multi-label classification systems for different datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

## F-Measure

### Micro-averaged

```{r microFMeasure}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Micro.averaged_F.Measure,
    fill=Learner
  )
) + 
geom_bar(
  stat = "identity",
  color = "black",
  position = position_dodge()
) +
geom_errorbar(
  aes(
    ymin=Micro.averaged_F.Measure - Micro.averaged_F.Measure_std,
    ymax=Micro.averaged_F.Measure + Micro.averaged_F.Measure_std
  ),
  width=.2,
  position = position_dodge(.9)
) +
ylim(0.0,1.0) +
ylab("Micro-averaged F-Measure") +
ggtitle("Micro-averaged F-Measure of multi-label classification systems by dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r microFBox}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Micro.averaged_F.Measure
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Learner)) +
ylim(0.0,1.0) +
ylab("Micro-averaged F-Measure") +
ggtitle("Distribution of micro-averaged F-measures of different multi-label classification systems by datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r microFLearnerBox}
ggplot(
  results,
  aes(
    x=Learner,
    y=Micro.averaged_F.Measure
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Dataset)) +
ylim(0.0,1.0) +
ylab("Micro-averaged F-Measure") +
ggtitle("Distribution of micro-averaged F-measures by multi-label classification systems for different datasets") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

### Macro-averaged

```{r macroFMeasure}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Macro.averaged_F.Measure,
    fill=Learner
  )
) + 
geom_bar(
  stat = "identity",
  color = "black",
  position = position_dodge()
) +
geom_errorbar(
  aes(
    ymin=Macro.averaged_F.Measure - Macro.averaged_F.Measure_std,
    ymax=Macro.averaged_F.Measure + Macro.averaged_F.Measure_std
  ),
  width=.2,
  position = position_dodge(.9)
) +
ylim(0.0,1.0) +
ylab("Macro-averaged F-Measure") +
ggtitle("Macro-averaged F-Measure of multi-label classification systems by dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r macroFBox}
ggplot(
  results,
  aes(
    x=Dataset,
    y=Macro.averaged_F.Measure
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=factor(Learner,levels = c("HistBayes","RAkEL+NaiveBayes","RAkEL+C4.5","RAkEL+Ripper","FuzzyBayes","MLkNN","RAkEL+SMO","BPMLL")))) +
ylim(0.0,1.0) +
ylab("Macro-averaged F-Measure") +
labs(color="Learner")+
scale_colour_manual(values = cbPalette)+
ggtitle("Distribution of macro-averaged F-measures of different multi-label classification systems by dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

```{r macroFLearnerBox}
ggplot(
  results,
  aes(
    x=Learner,
    y=Macro.averaged_F.Measure
  )
) + 
geom_boxplot() +
geom_jitter(shape=16, position=position_jitter(0.1), aes(colour=Dataset)) +
ylim(0.0,1.0) +
ylab("Macro-averaged F-Measure") +
ggtitle("Distribution of macro-averaged F-measures by multi-label classification systems for different dataset") +
theme(plot.title = element_text(size=14, face="bold", hjust=0.5))
```

# References

